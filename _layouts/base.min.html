--- layout: none --- <!DOCTYPE html> {%- include snippets/get-lang.html -%} <html lang="{{ __return }}"> <head> {%- include analytics.html -%} {%- include head.html -%} <script> {%- include scripts/utils/utils.js -%}
      {%- include scripts/lib/throttle.js -%}
      {%- include scripts/lib/lazyload.js -%} </script> {%- include scripts/variables.html -%} {%- include scripts/cookie-consent.html -%} </head> <body> <div class="root" data-is-touch="false"> {{ content }} </div> <script> {%- include scripts/common.js -%} </script> <script> {%- include scripts/auth.js -%} </script> <script>document.addEventListener("DOMContentLoaded",(function(){console.log("DOM fully loaded and parsed");const e=document.getElementById("auth-link");function n(e){const n=function(e){try{const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(o)}catch(e){return null}}(e);if(!n||!n.exp)return!0;const o=Math.floor(Date.now()/1e3);return n.exp<o}function o(){console.log("updateAuthLink function called");const o=localStorage.getItem("supabaseToken");console.log("Retrieved supabaseToken from localStorage:",o),e?o&&!n(o)?(console.log("User is logged in. Updating auth link to Logout"),e.innerHTML='<span class="material-symbols-outlined">logout</span> Logout',e.parentElement.onclick=function(e){e.preventDefault(),logoutUser(),console.log("Logout function called")},e.parentElement.href="javascript:void(0);"):(console.log("User is not logged in or token is expired. Updating auth link to Login"),e.innerHTML='<span class="material-symbols-outlined">login</span> Login',e.parentElement.href="/login",e.parentElement.onclick=null):console.error("Auth link element not found in the DOM")}console.log("Auth link element:",e),o(),console.log("Initial updateAuthLink function executed"),window.addEventListener("storage",(function(){console.log("Storage event detected. Re-running updateAuthLink"),o()}))}))</script> 